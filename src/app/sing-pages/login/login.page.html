<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" [text]="gConst.iconBack.text"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="!isRegister">登陆</ion-title>
    <ion-title *ngIf="isRegister">注册</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ng-template [ngIf]="true">
    <ion-item>
      <ion-label>手机号：</ion-label>
      <ion-input type="text" [(ngModel)]="model.username" (ionChange)="onChange(1)"
                 (ionBlur)="onBlur()"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>密&emsp;码：</ion-label>
      <ion-input type="password" placeholder="6-20位数字或字母" [(ngModel)]="model.password" (ionChange)="onChange(2)"
                 (ionBlur)="onBlur()"></ion-input>
    </ion-item>
    <ion-item *ngIf="isRegister">
      <ion-label>确认密码：</ion-label>
      <ion-input type="password" placeholder="确认密码" [(ngModel)]="model.password" (ionChange)="onChange(3)"
                 (ionBlur)="onBlur()"></ion-input>
    </ion-item>
    <ion-item *ngIf="errorMsg" lines="none">
      <ion-label class="error-message" style="color: red;"> {{errorMsg}} </ion-label>
    </ion-item>
    <ion-button *ngIf="!isRegister" class="login" (click)="login()"
                expand="block" [disabled]='!status'> 登录
    </ion-button>
    <ion-button *ngIf="isRegister" class="login" (click)="register()"
                expand="block" [disabled]='!status'> 立即注册
    </ion-button>
    <ion-button *ngIf="!isRegister" (click)="isRegister=true" color="primary" fill="clear"
                expand="block"> 注册
    </ion-button>
    <ion-button *ngIf="isRegister" (click)="isRegister=false" color="primary" fill="clear"
                expand="block"> 去登陆
    </ion-button>
  </ng-template>
</ion-content>

